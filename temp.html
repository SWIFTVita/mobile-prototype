<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Vita Explorer</title>
    <!--    <link href="styles/style.css" rel="stylesheet" type="text/css"/>-->
    <script>
        `
action
card
choice
circle
content-panel
detail
dialog
hash-tag
icon
label
main-nav
message
page
person
simple-list
title
toast
cards card-connect
pages connect
pages settle

main
component
`.split("\n").map(p => p ? document.write(`<li` + `nk href="styles/` +
            p.split(" ").join("/") + ".css" +
            `"  rel="stylesheet" type="text/css"/>`) : '');

    </script>
    <script>
        `
utils
html

components components

components action action

components card card
components card card_person
components card card_explore
components card card_connect
components card card_settle
components card card_plan
components card card_dream

components card card_people

components choice choice
components dialog dialog
components hash_tag hash_tag
components list list
components main_nav
components message message
components money money
components page
components search search
components toast toast

pages connect connect
pages connect connect_chat
pages connect connect_person

pages plan plan
pages plan plan_detail

pages settle settle
pages settle settle_split
pages settle settle_list

pages explore explore_detail
pages explore explore

pages dream dream
pages dream dream_board
pages dream dream_details

route
`.split("\n").map(p => p ? document.write(`<scr` + `ipt src="scripts/` +
            p.split(" ").join("/") + ".js" +
            `"></scr` + `ipt>`) : '');
    </script>
    <style>
        * {
            margin-top: 0 !important;
        }

        .inner-content {}

        .timeline {
            padding: 5px 0;
            height: auto;
            width: auto;
            display: block;
            overflow-x: scroll;
            white-space: nowrap;
        }

        .timeline .day {
            display: inline-flex;
            margin: 0.5rem;
            border-radius: 10px;
            /* background-color: grey; */
            width: 50px;
            height: 70px;
            /* display: flex; */
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
        }

        .timeline .day.current-day {
            background-color: #000000bb;
        }

        .timeline .day.adjacent-day {
            background-color: grey;
        }

        .timeline .day-of-week {
            font-size: 10px;
            justify-content: flex-end;
        }
    </style>

    <script>
        // function daysInMonth(month, year) {
        //     let date = new Date(Date.UTC(year, month, 5))
        //     let days = []
        //     while (date.getUTCMonth() === month) {
        //         days.push(new Date(date))
        //         date.setUTCDate(date.getUTCDate() + 1)
        //     }
        //     return days
        // }
        // function daysInMonth() {
        //     var dt = new Date();
        //     var month = dt.getMonth();
        //     var year = dt.getFullYear();
        //     daysInMonth = new Date(year, month, 0).getDate();
        //     return daysInMonth
        // }
        // function getDates() {
        //     let date = new Date();
        //     let firstDay = newDate(date.getFullYear)
        //     for 
        // } 

        // ADJUST PARAMETERS OF DATE() IN TODAY1 AND TODAY2 EQUALLY TO TEST DIFFERENT DAYS
        function getDates() {
            const today1 = new Date()
            // console.log("TODAY", today1)
            const startDate = new Date(today1.setDate(today1.getDate() - 15))
            // console.log("TODAY", today1)
            // console.log("STARTDATE", startDate)
            const today2 = new Date()
            const endDate = today2.setDate(today2.getDate() + 15)
            // console.log("ENDDATE", endDate)

            const dates = []
            let currentDate = startDate
            // console.log("CURRENT DATE", currentDate)
            const addDays = function (days) {
                const date = new Date(this.valueOf())
                date.setDate(date.getDate() + days)
                return date
            }
            while (currentDate <= endDate) {
                dates.push(currentDate)
                currentDate = addDays.call(currentDate, 1)
            }
            return dates
        }

        function convertWeekday(num) {
            const weekday = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
            const day = weekday[num]
            return day
        }

        function reverseWeekday(day) {
            const weekday = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
            const num = weekday.indexOf(day)
            return num
        }

        function formatDates(dates) {
            const daysOfWeek = []
            const daysOfMonth = []
            for (let i = 0; i < dates.length; i++) {
                d = dates[i].getDay()
                daysOfWeek.push(convertWeekday(d))

                daysOfMonth.push(dates[i].getDate())
            }
            console.log(daysOfWeek)
            console.log(daysOfMonth)
            const formattedDates = []
            for (let i = 0; i < daysOfWeek.length; i++) {
                formattedDates[i] = [daysOfWeek[i], daysOfMonth[i]]
            }
            return formattedDates
        }

        function isTodayWeek(date) {
            const num = reverseWeekday(date)
            const today = new Date()
            // console.log('TODAY', today.getDay())
            // console.log('DATE', date)
            // console.log('NUM', num)
            return num === today.getDay()
        }

        function isTodayMonth(date) {
            const today = new Date()
            return date === today.getDate()
        }

        function isToday(i) {
            // const todayWeek = isTodayWeek(weekday)
            // const todayMonth = isTodayMonth(monthday)
            // return todayWeek && todayMonth
            return 15 === i
        }

        function isAdjacentDay(i) {
            // today = new Date()
            // const yesterday = today.getDate() - 1
            // const tomorrow = today.getDate() + 1
            // const adjacentDay = monthday === yesterday || monthday === tomorrow
            // const adjacentDayMonth = 
            return i === 14 || i === 16
        }

        function day() {
            return 'Hello World!'
        }
    </script>

</head>

<body cz-shortcut-listen="true">
    <div class="content div">
        <div class="outer-box div">
            <div class="inner-content div">
                <div class="timeline">
                    <script>
                        // document.write(day())
                        // const date = new Date(2013, 10, 22)
                        // console.log(date)
                        // const today = new Date()
                        // console.log(today)
                        // const result = today.setDate(today.getDate() - 15)
                        // console.log(new Date(result))

                        let dates = getDates()
                        // console.log(dates)
                        dates = formatDates(dates)
                        console.log(dates)
                        // console.log(isTodayWeek("Wed"))
                        // console.log(isTodayMonth(26))
                        // console.log(isToday())
                        // console.log(isAdjacentDay(26))

                        for (let i = 0; i < dates.length; i++) {
                            document.write(`
                                <div class="day 
                                    ${isToday(i) ? "current-day" : ""} 
                                    ${isAdjacentDay(i) ? "adjacent-day" : ""}"
                                    >
                                    <div class="day-of-week">
                                        <p>${dates[i][0]}</p>
                                    </div>
                                    <div class="day-of-month">
                                        <p>${dates[i][1]}</p>
                                    </div>
                                </div>
                            `)
                        }
                        // var someDate = new Date();
                        // var numberOfDaysToAdd = 6;
                        // var result = someDate.setDate(someDate.getDate() + 15);
                        // console.log(new Date(result))
                        // console.log(getDates(today.setDate(today.getDate() - 15), today.setDate(today.getDate() + 15)))
                        // console.log(getDates(new Date(2022, 1, 15), new Date(2022, 1, 30)))
                    </script>
                    <!-- <div class="day">
                        <div class="day-of-week">
                            <p>Thu</p>
                        </div>
                        <div class="day-of-month">
                            <p>14</p>
                        </div>
                    </div>
                    <div class="day adjacent-day">
                        <div class="day-of-week">
                            Fri
                        </div>
                        <div class="day-of-month">
                            15
                        </div>
                    </div>
                    <div class="day current-day">
                        <div class="day-of-week">
                            Sat
                        </div>
                        <div class="day-of-month">
                            16
                        </div>
                    </div>
                    <div class="day adjacent-day">
                        <div class="day-of-week">
                            Sun
                        </div>
                        <div class="day-of-month">
                            17
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-of-week">
                            Mon
                        </div>
                        <div class="day-of-month">
                            18
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-of-week">
                            Tue
                        </div>
                        <div class="day-of-month">
                            19
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-of-week">
                            <p>Thu</p>
                        </div>
                        <div class="day-of-month">
                            <p>14</p>
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-of-week">
                            Fri
                        </div>
                        <div class="day-of-month">
                            15
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-of-week">
                            Sat
                        </div>
                        <div class="day-of-month">
                            16
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-of-week">
                            Sun
                        </div>
                        <div class="day-of-month">
                            17
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-of-week">
                            Mon
                        </div>
                        <div class="day-of-month">
                            18
                        </div>
                    </div>
                    <div class="day">
                        <div class="day-of-week">
                            Tue
                        </div>
                        <div class="day-of-month">
                            19
                        </div>
                    </div> -->
                </div>
                Kevin, please see comment on line 158 in temp.html!
            </div>
        </div>
    </div>

</body>

</html>